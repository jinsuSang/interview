# basic info

## 인터넷 네트워크

### 1. IP 인터넷 프로토콜 역할

- 지정한 IP 주소에 데이터 전달
- 패킷이라는 통신 단위로 데이터

### 2. IP 프로토콜 한계

- 비연결성: 패킷 받는 대상이 없거나 서비스 불능일 때도 패킷 전송
- 비신뢰성: 패킷이 사라지거나 순서대로 가지 않을 수 있음
- 프로그램 구분: 같은 IP를 사용하는 애플리케이션이 존재할 때 문제 발생

### 3. TCP 특징

- 연결지향: TCP 3 way handshake(개념적 연결)
- 데이터 전달 보증
- 순서 보장
- 신뢰성 있는 프로토콜

### 3. UDP 특징

- 기능 없음
- 단순하고 빠름
- IP + PORT

### 4. PORT

- 같은 IP 내에서 프로세스 구분

### 5. DNS

- 도메인 네임 시스템
- 도메인 명을 IP 주소로 변환

---

## URI

### 1. URI, URN, URL

- URI(Resource Identifier)는 로케이터(Locator), 이름(Name) 또는 둘 다 추가로 불류될 수 있다.

- Uniform Resource Identifier

---

## HTTP basic

### 1. intro

- HTTP 메시지에 모든 것을 전송
- TCP: HTTP/1.1, HTTP/2
- UDP: HTTP/3

### 2. 특징

- 클라이언트 서버 구조(Request Response 구조)
- 무상태 프로토콜(stateless)
  - 서버가 클라이언트 상태를 보존하지 않음
  - 서버 확장성 스케일 아웃이 높으나 클라이언트가 추가 데이터를 전송해야 한다.
- 비연결성
  - 일반적으로 빠른 속도로 응답
  - 서버 자원을 매우 효율적으로 사용할 수 있음
  - TCP IP 연결을 새로 하면서 3 way handshake 시간 지연
  - 지속연결 persistent connections 으로 해결
- http 메시지
- 단순함, 확장 가능

---

## HTTP method

### 1. method 종류

- GET: 리소스 조회, 데이터는 query를 통해서 전달
- POST: 요청 데이터 처리, create, 메시지 바디로 요청 데이터 전달, 대상 리소스가 리소스 고유한 의미 체계에 따라 요청에 포함된 표현을 처리하도록 요청한다.
- PUT: 리소스 전체 대체, 부재시 생성, 클라이언트가 리소스를 식별해야 한다.
- PATCH: 리소스 부분 변경, update
- DELETE: 리소스 삭제

### 2. method 속성

- [위키피디아 http mothods security](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Security)

- 안전 Safe: 호출해도 리소스를 변경하지 않는다.
- 멱등 Idempotent: 몇 번을 호출하든 결과가 똑같다. (POST는 멱등하지 않다.), 외부 요인으로 중간에 리소스가 변경되는 것은 고려하지 않는다.
- 캐시 가능: GET, HEAD, POST, PATCH 캐시 가능

---

## HTTP 상태 코드

- 2xx 성공: 요청 정상 처리 (204 no content 응답에 보낼 데이터가 없음)
- 3xx 리다이렉션: 요청을 완료하기 위해 클라이언트가 추가 행동 필요
  - 301 Moved Permanently: 리다이렉트시 요청 메서드가 Get으로 변하고 본문이 제거될 수 있음
  - 308 Permanent Redirect: 리다이렉트시 요청 메서드와 본문 유지
  - 302 Found: 리다이렉트시 요청 메서드가 GET으로 변하고 본문이 제거될 수 있음
  - 307 Temporary Redirect: 리다이렉트시 메서드, 본문 유지
  - 303 See Other: 리다이렉트시 요청 메서드가 GET으로 변경
- 4xx 클라이언트 에러: 클라이언트 오류, 잘못된 문법으로 서버가 요청 처리를 하지 못함
  - 400 Bad Request: 클라이언트가 잘못된 요청을 해서 서버가 요청을 처리할 수 없음
  - 401 Unauthorized: 클라이언트가 해당 리소스에 대한 인증이 필요함
  - 403 Forbidden: 서버가 요청을 이해했지만 승인을 거부함
  - 404 Not Found: 요청 리소스를 찾을 수 없음
- 5xx 서버 에러: 서버 오류, 서버가 정상적으로 요청을 처리하지 못함
  - 500 Internal Server Error: 서버 내부 문제로 오류 발생

---

## HTTP 헤더

### 인증

- Authorization 헤더
- 인증 불가시 401 Unauthorized 응답과 인증을 어떻게 할 수 있는지에 대한 정보를 보내줌

### 쿠키

- Set-Cookie: 서버에서 클라이언트로 쿠키 전달
- 모든 요청에 쿠키 정보 포함
  - 최소한의 정보만 사용하기
  - 서버에 전송하지 않고 웹 브라우저 내부에 데이터를 저장하고 싶으면 localStorage를 사용할 수 있으나 보안 문제 발생
- 사용방법
  - 로그인 세션 관리
  - 광고 정보 트래킹
- 생명주기
  - expires: 만료일이 되면 쿠키 삭제
  - max-age: 0이나 음수를 지정하면 쿠키 삭제
  - 세션 쿠키: 만료 날짜 생략시 브라우저 종료시 까지만 유지
  - 영속 쿠키: 만료 날짜를 입력하면 해당 날짜까지 유지
- 도메인
  - 명시한 문서 기준 도메인 + 서브 도메인 포함
  - 생략시 기준 도메인에만 적용됨
- 경로
  - 해당 경로를 포함한 하위 경로 페이지만 쿠키 접근
- 보안
  - secure를 적용하면 https인 경우에만 전송
  - httpOnly: XSS 공격방지, 자바스크립트에서 접근 불가
  - samesite: XSRF 공격방지, 요청 도메인과 쿠키에 설정된 도메인이 같은 경우에만 쿠키 전송

### 프록시 캐시

- 프록시 서버는 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있도록 해주는 프로그램이다. 서버와 클라이언트 사이의 중계자이다.
